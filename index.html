<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wheater</title>
    <script src="https://code.jquery.com/jquery-2.1.3.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">


    <script>
        $('document').ready(function() {
            $('form').on('submit', function(res) {
                res.preventDefault();

                var result = $.get('http://api.openweathermap.org/data/2.5/weather?q=' + $('#city').val() + '&&appid=57abe4396d7ceeca4e4d4be8f0f57bc7', function(rtrn) {

                    // $('#localizacion').html("<p>" + rtrn.name + ": " + rtrn.weather[0].description + "<p>");
                    // $('#temp').html("<p> Temperatura: " + rtrn.main.temp + "°F <p>");
                    // $('#coord').html("<p> Coord: " + rtrn.coord.lat + ", " + rtrn.coord.lon + "<p   >");


                    $('#localizacion').html("<table style='width:100%'><tr><th class='bg-dark text-white p-3'>" + rtrn.name + "</th><td class='p-3 mb-2 bg-light text-dark'><img src='http://openweathermap.org/img/wn/" + rtrn.weather[0].icon + ".png' alt='aca va una imagen'>" + rtrn.weather[0].description + "</td></tr><tr><th  class='bg-dark text-white p-3'>Temperatura:</th><td class='p-3 mb-2 bg-light text-dark'>" + parseInt(rtrn.main.temp - 273) + " °C </td></tr><tr><th rowspan='2'   class='bg-dark text-white p-3'> Coord: </th><td class='p-3 mb-2 bg-light text-dark'>" + rtrn.coord.lat + "</td></tr><tr><td class='p-3 mb-2 bg-light text-dark'>" + rtrn.coord.lon + "</td></tr><tr><th  class='bg-dark text-white p-3'>Humedad:</th><td class='p-3 mb-2 bg-light text-dark'>" + rtrn.main.humidity + " % </td></tr><tr><th class='bg-dark text-white p-3'>Velocidad del viento:</th><td class='p-3 mb-2 bg-light text-dark'>" + parseInt(rtrn.wind.speed * 3.6) + " Km/hr </td></tr> </table>");

                    //         <h3 id="localizacion"></h3>
                    // <h3 id="temp"></h3>
                    // <h3 id="coord"></h3>    
                    console.log(rtrn)
                });

            });
        });
    </script>

    <style>
        * {
            margin: 0px;
            padding: 0px;
            /* outline: 1px solid red; */
        }
        
        table,
        th,
        td {
            border: 1px solid rgb(135, 124, 124);
            border-collapse: collapse;
        }
        
        th,
        td {
            padding: 5px;
        }
        
        .principal {
            padding: 15px;
            margin: auto;
        }
    </style>
</head>

<body>
    <div class="container principal p-3">
        <div class="">
            <div class="row">
                <div class="jumbotron">
                    <h1 class="display-4">Pronostico del Tiempo</h1>

                    <hr class="my-4">
                    <p class="lead"> Ingrese la localidad para obtener el pronóstico del tiempo y averiguar la temperatura en grados Fahrenheit.</p>
                    <div class="row formulario p-4">
                        <form>
                            <label for="city">Ciudad</label>
                            <input type="text" id="city"><br><br>
                            <input type="submit" value="Enviar" class="btn btn-primary btn-lg">
                        </form>
                    </div>
                    <div id="localizacion" class="resultados row justify-content-center p-3">
                    </div>

                </div>



            </div>



</body>

</html>